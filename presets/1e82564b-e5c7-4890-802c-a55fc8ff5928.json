{
  "id": "Winamp 2077",
  "type": "widget",
  "name": "Winamp 2077",
  "description": "Retro-futuristic audio player with shuffle & visualizer.",
  "zip_data": {
    "ai_neural_player/.installed": "Installed (No Deps) on Fri Dec  5 15:23:30 2025",
    "ai_neural_player/index.html": "<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>NeonFlow Player</title>\r\n    <link href=\"https://fonts.googleapis.com/css2?family=Rajdhani:wght@500;700&family=JetBrains+Mono:wght@400&display=swap\" rel=\"stylesheet\">\r\n    <style>\r\n        :root {\r\n            --bg-dark: #050505;\r\n            --glass-bg: rgba(20, 20, 30, 0.6);\r\n            --glass-border: rgba(255, 255, 255, 0.1);\r\n            --neon-primary: #00ffcc; /* Cyan Modern */\r\n            --neon-secondary: #ff00ff; /* Magenta Accent */\r\n            --text-main: #ffffff;\r\n            --text-dim: #8899aa;\r\n            --active-bg: rgba(0, 255, 204, 0.15);\r\n        }\r\n\r\n        * { box-sizing: border-box; outline: none; user-select: none; }\r\n\r\n        body {\r\n            margin: 0;\r\n            padding: 15px;\r\n            background-color: var(--bg-dark);\r\n            color: var(--text-main);\r\n            font-family: 'Rajdhani', sans-serif;\r\n            height: 100vh;\r\n            display: flex;\r\n            flex-direction: column;\r\n            gap: 15px;\r\n            overflow: hidden;\r\n            /* Background Grid Halus */\r\n            background-image:\r\n                linear-gradient(rgba(0, 255, 204, 0.03) 1px, transparent 1px),\r\n                linear-gradient(90deg, rgba(0, 255, 204, 0.03) 1px, transparent 1px);\r\n            background-size: 30px 30px;\r\n        }\r\n\r\n        /* --- UTILS: SCROLLBAR --- */\r\n        ::-webkit-scrollbar { width: 6px; }\r\n        ::-webkit-scrollbar-track { background: rgba(0,0,0,0.3); }\r\n        ::-webkit-scrollbar-thumb { background: var(--glass-border); border-radius: 3px; }\r\n        ::-webkit-scrollbar-thumb:hover { background: var(--neon-primary); }\r\n\r\n        /* --- PLAYER CARD (TOP) --- */\r\n        .player-card {\r\n            background: var(--glass-bg);\r\n            backdrop-filter: blur(12px);\r\n            border: 1px solid var(--glass-border);\r\n            border-radius: 16px;\r\n            padding: 20px;\r\n            display: flex;\r\n            flex-direction: column;\r\n            gap: 15px;\r\n            box-shadow: 0 10px 30px rgba(0,0,0,0.5);\r\n            flex-shrink: 0;\r\n        }\r\n\r\n        .visualizer-area {\r\n            height: 80px;\r\n            background: rgba(0,0,0,0.3);\r\n            border-radius: 12px;\r\n            overflow: hidden;\r\n            position: relative;\r\n            border: 1px solid rgba(0, 255, 204, 0.1);\r\n        }\r\n\r\n        canvas { width: 100%; height: 100%; }\r\n\r\n        .song-info {\r\n            display: flex;\r\n            justify-content: space-between;\r\n            align-items: flex-end;\r\n        }\r\n\r\n        .title-wrapper {\r\n            overflow: hidden;\r\n            flex: 1;\r\n            margin-right: 15px;\r\n        }\r\n\r\n        .song-title {\r\n            font-size: 1.2rem;\r\n            font-weight: 700;\r\n            white-space: nowrap;\r\n            color: var(--neon-primary);\r\n            text-shadow: 0 0 10px rgba(0, 255, 204, 0.4);\r\n        }\r\n\r\n        .song-meta {\r\n            font-size: 0.8rem;\r\n            color: var(--text-dim);\r\n            font-family: 'JetBrains Mono', monospace;\r\n            margin-top: 4px;\r\n        }\r\n\r\n        .time-display {\r\n            font-family: 'JetBrains Mono', monospace;\r\n            font-size: 1.5rem;\r\n            color: #fff;\r\n            font-weight: bold;\r\n        }\r\n\r\n        /* --- CONTROLS --- */\r\n        .controls {\r\n            display: flex;\r\n            justify-content: center;\r\n            align-items: center;\r\n            gap: 15px;\r\n            margin-top: 5px;\r\n        }\r\n\r\n        .btn-icon {\r\n            background: rgba(255,255,255,0.05);\r\n            border: 1px solid var(--glass-border);\r\n            color: #fff;\r\n            width: 40px;\r\n            height: 40px;\r\n            border-radius: 50%;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n            cursor: pointer;\r\n            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);\r\n        }\r\n\r\n        .btn-icon:hover {\r\n            background: var(--neon-primary);\r\n            color: #000;\r\n            box-shadow: 0 0 15px var(--neon-primary);\r\n            transform: scale(1.1);\r\n            border-color: transparent;\r\n        }\r\n\r\n        .btn-large {\r\n            width: 55px;\r\n            height: 55px;\r\n            font-size: 1.2rem;\r\n            background: linear-gradient(135deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));\r\n        }\r\n\r\n        .btn-toggle {\r\n            font-size: 0.7rem;\r\n            width: auto;\r\n            padding: 0 12px;\r\n            height: 30px;\r\n            border-radius: 15px;\r\n            text-transform: uppercase;\r\n            letter-spacing: 1px;\r\n        }\r\n        .btn-toggle.active {\r\n            background: var(--neon-secondary);\r\n            color: #fff;\r\n            border-color: transparent;\r\n            box-shadow: 0 0 10px var(--neon-secondary);\r\n        }\r\n\r\n        /* --- PLAYLIST CONTAINER (BOTTOM) --- */\r\n        .playlist-container {\r\n            flex: 1;\r\n            background: var(--glass-bg);\r\n            backdrop-filter: blur(12px);\r\n            border: 1px solid var(--glass-border);\r\n            border-radius: 16px;\r\n            overflow: hidden;\r\n            display: flex;\r\n            flex-direction: column;\r\n            min-height: 0;\r\n        }\r\n\r\n        .playlist-header {\r\n            padding: 15px;\r\n            background: rgba(255,255,255,0.03);\r\n            border-bottom: 1px solid var(--glass-border);\r\n            display: flex;\r\n            justify-content: space-between;\r\n            align-items: center;\r\n        }\r\n\r\n        .playlist-title {\r\n            font-weight: 700;\r\n            text-transform: uppercase;\r\n            letter-spacing: 1px;\r\n            color: var(--text-dim);\r\n            font-size: 0.9rem;\r\n        }\r\n\r\n        .btn-add {\r\n            background: var(--neon-primary);\r\n            color: #000;\r\n            border: none;\r\n            padding: 6px 12px;\r\n            border-radius: 6px;\r\n            font-weight: bold;\r\n            font-size: 0.8rem;\r\n            cursor: pointer;\r\n            transition: transform 0.2s;\r\n        }\r\n        .btn-add:hover { transform: translateY(-2px); }\r\n\r\n        .playlist-scroll {\r\n            flex: 1;\r\n            overflow-y: auto;\r\n            padding: 10px;\r\n        }\r\n\r\n        /* --- LIST ITEMS (MODERN) --- */\r\n        .track-item {\r\n            display: flex;\r\n            justify-content: space-between;\r\n            align-items: center;\r\n            padding: 12px 15px;\r\n            margin-bottom: 8px;\r\n            background: rgba(255, 255, 255, 0.03); /* Warna List Beda */\r\n            border: 1px solid transparent;\r\n            border-radius: 10px;\r\n            cursor: pointer;\r\n            transition: all 0.2s ease;\r\n        }\r\n\r\n        .track-item:hover {\r\n            background: rgba(255, 255, 255, 0.08);\r\n            transform: translateX(5px);\r\n        }\r\n\r\n        .track-item.active {\r\n            background: var(--active-bg);\r\n            border-color: var(--neon-primary);\r\n            box-shadow: 0 4px 15px rgba(0,0,0,0.2);\r\n        }\r\n\r\n        .track-item.active .track-name {\r\n            color: var(--neon-primary);\r\n            font-weight: bold;\r\n        }\r\n\r\n        .track-index {\r\n            color: var(--text-dim);\r\n            font-family: 'JetBrains Mono', monospace;\r\n            font-size: 0.8rem;\r\n            margin-right: 15px;\r\n            width: 25px;\r\n        }\r\n\r\n        .track-name {\r\n            flex: 1;\r\n            font-size: 0.95rem;\r\n            white-space: nowrap;\r\n            overflow: hidden;\r\n            text-overflow: ellipsis;\r\n            color: #eee;\r\n        }\r\n\r\n        .track-wave {\r\n            width: 20px;\r\n            height: 20px;\r\n            display: none;\r\n            align-items: center;\r\n            gap: 2px;\r\n        }\r\n        .track-item.active .track-wave { display: flex; }\r\n        .bar { width: 3px; background: var(--neon-primary); animation: wave 0.5s infinite ease-in-out; }\r\n        .bar:nth-child(2) { animation-delay: 0.1s; }\r\n        .bar:nth-child(3) { animation-delay: 0.2s; }\r\n\r\n        @keyframes wave {\r\n            0%, 100% { height: 5px; }\r\n            50% { height: 15px; }\r\n        }\r\n\r\n        #fileInput { display: none; }\r\n\r\n        /* Empty State */\r\n        .empty-state {\r\n            text-align: center;\r\n            color: var(--text-dim);\r\n            padding: 40px 20px;\r\n            font-style: italic;\r\n        }\r\n\r\n    </style>\r\n</head>\r\n<body>\r\n\r\n    <div class=\"player-card\">\r\n        <div class=\"song-info\">\r\n            <div class=\"title-wrapper\">\r\n                <div class=\"song-title\" id=\"currentTitle\">NO TRACK SELECTED</div>\r\n                <div class=\"song-meta\" id=\"statusText\">WAITING FOR INPUT...</div>\r\n            </div>\r\n            <div class=\"time-display\" id=\"timeDisplay\">00:00</div>\r\n        </div>\r\n\r\n        <div class=\"visualizer-area\">\r\n            <canvas id=\"visCanvas\"></canvas>\r\n        </div>\r\n\r\n        <div class=\"controls\">\r\n            <button class=\"btn-icon btn-toggle\" id=\"btnShuffle\" onclick=\"toggleShuffle()\" title=\"Shuffle\">RND</button>\r\n\r\n            <button class=\"btn-icon\" onclick=\"playPrev()\">\r\n                <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M6 6h2v12H6zm3.5 6l8.5 6V6z\"/></svg>\r\n            </button>\r\n\r\n            <button class=\"btn-icon btn-large\" id=\"playPauseBtn\" onclick=\"togglePlay()\">\r\n                <svg id=\"iconPlay\" width=\"32\" height=\"32\" viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M8 5v14l11-7z\"/></svg>\r\n                <svg id=\"iconPause\" style=\"display:none\" width=\"32\" height=\"32\" viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M6 19h4V5H6v14zm8-14v14h4V5h-4z\"/></svg>\r\n            </button>\r\n\r\n            <button class=\"btn-icon\" onclick=\"playNext()\">\r\n                <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z\"/></svg>\r\n            </button>\r\n\r\n            <button class=\"btn-icon btn-toggle\" id=\"btnRepeat\" onclick=\"toggleRepeat()\" title=\"Repeat\">LOOP</button>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"playlist-container\">\r\n        <div class=\"playlist-header\">\r\n            <span class=\"playlist-title\">Queue (<span id=\"trackCount\">0</span>)</span>\r\n            <button class=\"btn-add\" onclick=\"document.getElementById('fileInput').click()\">+ ADD FILES</button>\r\n        </div>\r\n        <div class=\"playlist-scroll\" id=\"playlistContainer\">\r\n            <div class=\"empty-state\">\r\n                Drop MP3 files here or click + ADD FILES<br>\r\n                <span style=\"font-size:0.8em; opacity:0.6\">Local Play Only - No Upload</span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <input type=\"file\" id=\"fileInput\" multiple accept=\"audio/*\">\r\n\r\n    <script>\r\n        // --- CORE SYSTEM ---\r\n        let audioCtx = new (window.AudioContext || window.webkitAudioContext)();\r\n        let audioEl = new Audio();\r\n        let analyser = audioCtx.createAnalyser();\r\n        let source = null;\r\n\r\n        let playlist = [];\r\n        let currentIndex = -1;\r\n        let isShuffle = false;\r\n        let isRepeat = false;\r\n        let isPlaying = false;\r\n\r\n        // UI Elements\r\n        const playlistEl = document.getElementById('playlistContainer');\r\n        const titleEl = document.getElementById('currentTitle');\r\n        const statusEl = document.getElementById('statusText');\r\n        const timeEl = document.getElementById('timeDisplay');\r\n        const iconPlay = document.getElementById('iconPlay');\r\n        const iconPause = document.getElementById('iconPause');\r\n        const canvas = document.getElementById('visCanvas');\r\n        const ctx = canvas.getContext('2d');\r\n\r\n        // Init Canvas Resolution\r\n        function resizeCanvas() {\r\n            canvas.width = canvas.parentElement.clientWidth;\r\n            canvas.height = canvas.parentElement.clientHeight;\r\n        }\r\n        window.onresize = resizeCanvas;\r\n        setTimeout(resizeCanvas, 100);\r\n\r\n        // --- AUDIO ENGINE ---\r\n        function initAudio() {\r\n            if (!source) {\r\n                source = audioCtx.createMediaElementSource(audioEl);\r\n                source.connect(analyser);\r\n                analyser.connect(audioCtx.destination);\r\n                analyser.fftSize = 256;\r\n            }\r\n            if (audioCtx.state === 'suspended') audioCtx.resume();\r\n        }\r\n\r\n        function playTrack(index) {\r\n            initAudio();\r\n\r\n            if (index === undefined) {\r\n                if (playlist.length === 0) return;\r\n                index = currentIndex === -1 ? 0 : currentIndex;\r\n            }\r\n\r\n            // Validasi Index\r\n            if (index < 0 || index >= playlist.length) return;\r\n\r\n            currentIndex = index;\r\n            const file = playlist[currentIndex];\r\n            const fileUrl = URL.createObjectURL(file);\r\n\r\n            if (audioEl.src !== fileUrl) {\r\n                audioEl.src = fileUrl;\r\n                titleEl.innerText = file.name.replace(/\\.[^/.]+$/, \"\"); // Hapus ekstensi .mp3\r\n                statusEl.innerText = \"PLAYING // \" + (file.size / 1024 / 1024).toFixed(2) + \" MB\";\r\n                renderPlaylist(); // Update active state visual\r\n            }\r\n\r\n            audioEl.play().then(() => {\r\n                isPlaying = true;\r\n                updatePlayBtn();\r\n                drawVisualizer();\r\n            }).catch(err => console.error(\"Playback error:\", err));\r\n        }\r\n\r\n        function togglePlay() {\r\n            if (playlist.length === 0) return;\r\n            if (isPlaying) {\r\n                audioEl.pause();\r\n                isPlaying = false;\r\n            } else {\r\n                if (currentIndex === -1) playTrack(0);\r\n                else {\r\n                    audioEl.play();\r\n                    isPlaying = true;\r\n                    drawVisualizer();\r\n                }\r\n            }\r\n            updatePlayBtn();\r\n        }\r\n\r\n        function updatePlayBtn() {\r\n            if (isPlaying) {\r\n                iconPlay.style.display = 'none';\r\n                iconPause.style.display = 'block';\r\n            } else {\r\n                iconPlay.style.display = 'block';\r\n                iconPause.style.display = 'none';\r\n            }\r\n        }\r\n\r\n        function playNext() {\r\n            if (playlist.length === 0) return;\r\n            let nextIndex;\r\n\r\n            if (isShuffle) {\r\n                nextIndex = Math.floor(Math.random() * playlist.length);\r\n                // Usahakan beda lagu kalau playlist > 1\r\n                if (playlist.length > 1 && nextIndex === currentIndex) {\r\n                    nextIndex = (currentIndex + 1) % playlist.length;\r\n                }\r\n            } else {\r\n                nextIndex = currentIndex + 1;\r\n                if (nextIndex >= playlist.length) {\r\n                    if (isRepeat) nextIndex = 0;\r\n                    else {\r\n                        isPlaying = false;\r\n                        updatePlayBtn();\r\n                        return; // Stop at end\r\n                    }\r\n                }\r\n            }\r\n            playTrack(nextIndex);\r\n        }\r\n\r\n        function playPrev() {\r\n            if (playlist.length === 0) return;\r\n            if (audioEl.currentTime > 3) {\r\n                audioEl.currentTime = 0; // Replay song\r\n            } else {\r\n                let prevIndex = currentIndex - 1;\r\n                if (prevIndex < 0) prevIndex = playlist.length - 1;\r\n                playTrack(prevIndex);\r\n            }\r\n        }\r\n\r\n        audioEl.onended = () => {\r\n            if (isRepeat && playlist.length === 1) {\r\n                audioEl.currentTime = 0;\r\n                audioEl.play();\r\n            } else {\r\n                playNext();\r\n            }\r\n        };\r\n\r\n        audioEl.ontimeupdate = () => {\r\n            const cur = audioEl.currentTime;\r\n            const min = Math.floor(cur / 60);\r\n            const sec = Math.floor(cur % 60);\r\n            timeEl.innerText = `${min < 10 ? '0'+min : min}:${sec < 10 ? '0'+sec : sec}`;\r\n        };\r\n\r\n        // --- PLAYLIST LOGIC ---\r\n        document.getElementById('fileInput').onchange = (e) => {\r\n            if (e.target.files.length > 0) {\r\n                addToPlaylist(e.target.files);\r\n            }\r\n        };\r\n\r\n        // Drag & Drop\r\n        document.body.ondragover = (e) => { e.preventDefault(); document.body.style.opacity = '0.5'; };\r\n        document.body.ondragleave = (e) => { e.preventDefault(); document.body.style.opacity = '1'; };\r\n        document.body.ondrop = (e) => {\r\n            e.preventDefault();\r\n            document.body.style.opacity = '1';\r\n            if (e.dataTransfer.files.length > 0) {\r\n                addToPlaylist(e.dataTransfer.files);\r\n            }\r\n        };\r\n\r\n        function addToPlaylist(files) {\r\n            let addedCount = 0;\r\n            for (let i = 0; i < files.length; i++) {\r\n                if (files[i].type.startsWith('audio/')) {\r\n                    playlist.push(files[i]);\r\n                    addedCount++;\r\n                }\r\n            }\r\n            if (addedCount > 0) {\r\n                renderPlaylist();\r\n                if (currentIndex === -1) playTrack(0); // Auto start first song\r\n            }\r\n        }\r\n\r\n        function renderPlaylist() {\r\n            playlistEl.innerHTML = \"\";\r\n            document.getElementById('trackCount').innerText = playlist.length;\r\n\r\n            playlist.forEach((file, index) => {\r\n                const div = document.createElement('div');\r\n                div.className = `track-item ${index === currentIndex ? 'active' : ''}`;\r\n\r\n                // Truncate name\r\n                let name = file.name.replace(/\\.[^/.]+$/, \"\");\r\n\r\n                div.innerHTML = `\r\n                    <div style=\"display:flex; align-items:center; width:100%\">\r\n                        <span class=\"track-index\">${index + 1}</span>\r\n                        <span class=\"track-name\">${name}</span>\r\n                        <div class=\"track-wave\">\r\n                            <div class=\"bar\"></div><div class=\"bar\"></div><div class=\"bar\"></div>\r\n                        </div>\r\n                    </div>\r\n                `;\r\n\r\n                div.onclick = () => playTrack(index);\r\n                playlistEl.appendChild(div);\r\n            });\r\n\r\n            // Auto scroll to active track\r\n            const activeItem = playlistEl.querySelector('.active');\r\n            if (activeItem) {\r\n                activeItem.scrollIntoView({ behavior: 'smooth', block: 'nearest' });\r\n            }\r\n        }\r\n\r\n        // --- VISUALIZER ---\r\n        function drawVisualizer() {\r\n            if (!isPlaying) return;\r\n            requestAnimationFrame(drawVisualizer);\r\n\r\n            const bufferLength = analyser.frequencyBinCount;\r\n            const dataArray = new Uint8Array(bufferLength);\r\n            analyser.getByteFrequencyData(dataArray);\r\n\r\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n            const barWidth = (canvas.width / bufferLength) * 2.5;\r\n            let barHeight;\r\n            let x = 0;\r\n\r\n            for (let i = 0; i < bufferLength; i++) {\r\n                barHeight = dataArray[i] / 255 * canvas.height;\r\n\r\n                // Gradient Color (Cyan to Purple)\r\n                const gradient = ctx.createLinearGradient(0, canvas.height, 0, 0);\r\n                gradient.addColorStop(0, '#00ffcc');\r\n                gradient.addColorStop(1, '#ff00ff');\r\n\r\n                ctx.fillStyle = gradient;\r\n\r\n                // Rounded Bar Top\r\n                ctx.beginPath();\r\n                ctx.roundRect(x, canvas.height - barHeight, barWidth, barHeight, [2, 2, 0, 0]);\r\n                ctx.fill();\r\n\r\n                x += barWidth + 1;\r\n            }\r\n        }\r\n\r\n        // --- BUTTONS TOGGLE ---\r\n        function toggleShuffle() {\r\n            isShuffle = !isShuffle;\r\n            document.getElementById('btnShuffle').classList.toggle('active', isShuffle);\r\n        }\r\n        function toggleRepeat() {\r\n            isRepeat = !isRepeat;\r\n            document.getElementById('btnRepeat').classList.toggle('active', isRepeat);\r\n        }\r\n\r\n    </script>\r\n</body>\r\n</html>",
    "ai_neural_player/manifest.json": "{\r\n    \"id\": \"winamp_cyber\",\r\n    \"name\": \"Winamp 2077\",\r\n    \"version\": \"2.9.1\",\r\n    \"description\": \"Retro-futuristic audio player with shuffle & visualizer.\",\r\n    \"author\": \"Flowork Cyber Division\",\r\n    \"tier\": \"free\",\r\n    \"type\": \"widget\",\r\n    \"entry_point\": \"index.html\",\r\n    \"icon_file\": \"icon.png\",\r\n    \"default_width\": 6,\r\n    \"default_height\": 8\r\n}"
  },
  "author": "0xd119baa25c12552606b358693f4cd91a2de7ebc3",
  "updated_at": 1764960580449
}