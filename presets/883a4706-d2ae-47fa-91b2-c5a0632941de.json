{
  "id": "Business Model Canvas",
  "type": "widget",
  "name": "Business Model Canvas",
  "description": "Interactive whiteboard for designing business models.",
  "zip_data": {
    "business_canvas/.installed": "Installed (No Deps) on Fri Dec  5 10:08:22 2025",
    "business_canvas/index.html": "<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>Business Model Canvas</title>\r\n    <link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap\" rel=\"stylesheet\">\r\n    <style>\r\n        :root {\r\n            --bg-color: #1e1e2e;\r\n            --card-bg: #2a2a3c;\r\n            --text-color: #e0e0e0;\r\n            --accent-color: #00f5ff;\r\n            --border-color: #444;\r\n            --note-bg: #fff9c4;\r\n            --note-text: #333;\r\n            --danger: #ff4d4d;\r\n        }\r\n        body {\r\n            margin: 0;\r\n            padding: 20px;\r\n            font-family: 'Inter', sans-serif;\r\n            background-color: var(--bg-color);\r\n            color: var(--text-color);\r\n            height: 100vh;\r\n            box-sizing: border-box;\r\n            display: flex;\r\n            flex-direction: column;\r\n            overflow: hidden; /* Mencegah scroll body, fokus ke grid */\r\n        }\r\n\r\n        .title-bar {\r\n            text-align: center;\r\n            margin-bottom: 15px;\r\n            font-size: 0.8rem;\r\n            color: #666;\r\n            text-transform: uppercase;\r\n            letter-spacing: 2px;\r\n            flex-shrink: 0; /* Judul gak boleh kepenet */\r\n        }\r\n\r\n        /* [GRID MAGIC] */\r\n        .canvas-grid {\r\n            display: grid;\r\n            grid-template-columns: repeat(5, 1fr);\r\n            grid-template-rows: 2fr 2fr 1.5fr; /* Proporsi baris lebih rapi */\r\n            gap: 10px;\r\n            flex: 1;\r\n            min-height: 0; /* PENTING: Biar grid gak jebol container */\r\n            width: 100%;\r\n        }\r\n\r\n        .block {\r\n            background-color: var(--card-bg);\r\n            border: 1px solid var(--border-color);\r\n            border-radius: 8px;\r\n            padding: 10px;\r\n            display: flex;\r\n            flex-direction: column;\r\n\r\n            /* [SCROLL MAGIC] */\r\n            min-width: 0;\r\n            min-height: 0; /* PENTING: Biar anak elemen bisa scroll */\r\n            overflow: hidden; /* Konten tumpah disembunyikan */\r\n        }\r\n\r\n        /* Posisi Grid Sesuai BMC Standard */\r\n        #kp { grid-column: 1; grid-row: 1 / span 2; }\r\n        #ka { grid-column: 2; grid-row: 1; }\r\n        #kr { grid-column: 2; grid-row: 2; }\r\n        #vp { grid-column: 3; grid-row: 1 / span 2; }\r\n        #cr { grid-column: 4; grid-row: 1; }\r\n        #ch { grid-column: 4; grid-row: 2; }\r\n        #cs { grid-column: 5; grid-row: 1 / span 2; }\r\n        #cs-cost { grid-column: 1 / span 2; grid-row: 3; }\r\n        #rs-rev { grid-column: 3 / span 3; grid-row: 3; }\r\n\r\n        .block-header {\r\n            font-size: 0.75rem;\r\n            text-transform: uppercase;\r\n            letter-spacing: 1px;\r\n            color: #888;\r\n            margin-bottom: 10px;\r\n            display: flex;\r\n            justify-content: space-between;\r\n            align-items: center;\r\n            flex-shrink: 0; /* Header tetep diem */\r\n        }\r\n\r\n        .add-btn {\r\n            cursor: pointer;\r\n            font-size: 1.2rem;\r\n            color: var(--accent-color);\r\n            font-weight: bold;\r\n            user-select: none;\r\n        }\r\n        .add-btn:hover { transform: scale(1.1); }\r\n\r\n        .block-content {\r\n            flex: 1;\r\n            overflow-y: auto; /* SCROLLBAR MUNCUL DISINI */\r\n            overflow-x: hidden;\r\n            padding-right: 5px; /* Space buat scrollbar */\r\n        }\r\n\r\n        /* Custom Scrollbar biar kece */\r\n        .block-content::-webkit-scrollbar { width: 6px; }\r\n        .block-content::-webkit-scrollbar-track { background: transparent; }\r\n        .block-content::-webkit-scrollbar-thumb { background: #444; border-radius: 3px; }\r\n        .block-content::-webkit-scrollbar-thumb:hover { background: #555; }\r\n\r\n        .note {\r\n            background-color: var(--note-bg);\r\n            color: var(--note-text);\r\n            padding: 8px;\r\n            margin-bottom: 8px;\r\n            border-radius: 4px;\r\n            font-size: 0.9rem;\r\n            position: relative;\r\n            animation: popIn 0.2s;\r\n            box-shadow: 0 2px 5px rgba(0,0,0,0.2);\r\n        }\r\n\r\n        .note textarea {\r\n            width: 100%;\r\n            border: none;\r\n            background: transparent;\r\n            resize: none;\r\n            font-family: inherit;\r\n            font-size: inherit;\r\n            color: inherit;\r\n            outline: none;\r\n            overflow: hidden;\r\n            min-height: 1.2em;\r\n            display: block;\r\n        }\r\n\r\n        .delete-note {\r\n            position: absolute;\r\n            top: 2px;\r\n            right: 5px;\r\n            color: #555;\r\n            cursor: pointer;\r\n            font-size: 0.8rem;\r\n            opacity: 0;\r\n            transition: opacity 0.2s;\r\n        }\r\n        .note:hover .delete-note { opacity: 1; }\r\n\r\n        @keyframes popIn { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }\r\n\r\n        .toast {\r\n            position: fixed;\r\n            bottom: 20px;\r\n            right: 20px;\r\n            background: var(--accent-color);\r\n            color: #000;\r\n            padding: 10px 20px;\r\n            border-radius: 8px;\r\n            font-weight: bold;\r\n            opacity: 0;\r\n            transition: opacity 0.3s;\r\n            pointer-events: none;\r\n            z-index: 100;\r\n        }\r\n        .toast.show { opacity: 1; }\r\n    </style>\r\n</head>\r\n<body>\r\n\r\n    <div class=\"title-bar\">Business Model Canvas Widget</div>\r\n\r\n    <div class=\"canvas-grid\">\r\n        <div class=\"block\" id=\"kp\"><div class=\"block-header\">Key Partners <span class=\"add-btn\" onclick=\"addNote('kp')\">+</span></div><div class=\"block-content\"></div></div>\r\n        <div class=\"block\" id=\"ka\"><div class=\"block-header\">Key Activities <span class=\"add-btn\" onclick=\"addNote('ka')\">+</span></div><div class=\"block-content\"></div></div>\r\n        <div class=\"block\" id=\"kr\"><div class=\"block-header\">Key Resources <span class=\"add-btn\" onclick=\"addNote('kr')\">+</span></div><div class=\"block-content\"></div></div>\r\n        <div class=\"block\" id=\"vp\"><div class=\"block-header\">Value Propositions <span class=\"add-btn\" onclick=\"addNote('vp')\">+</span></div><div class=\"block-content\"></div></div>\r\n        <div class=\"block\" id=\"cr\"><div class=\"block-header\">Cust. Relationships <span class=\"add-btn\" onclick=\"addNote('cr')\">+</span></div><div class=\"block-content\"></div></div>\r\n        <div class=\"block\" id=\"ch\"><div class=\"block-header\">Channels <span class=\"add-btn\" onclick=\"addNote('ch')\">+</span></div><div class=\"block-content\"></div></div>\r\n        <div class=\"block\" id=\"cs\"><div class=\"block-header\">Cust. Segments <span class=\"add-btn\" onclick=\"addNote('cs')\">+</span></div><div class=\"block-content\"></div></div>\r\n        <div class=\"block\" id=\"cs-cost\"><div class=\"block-header\">Cost Structure <span class=\"add-btn\" onclick=\"addNote('cs-cost')\">+</span></div><div class=\"block-content\"></div></div>\r\n        <div class=\"block\" id=\"rs-rev\"><div class=\"block-header\">Revenue Streams <span class=\"add-btn\" onclick=\"addNote('rs-rev')\">+</span></div><div class=\"block-content\"></div></div>\r\n    </div>\r\n\r\n    <div id=\"toast\" class=\"toast\">Saved!</div>\r\n\r\n    <script>\r\n        const blocks = ['kp', 'ka', 'kr', 'vp', 'cr', 'ch', 'cs', 'cs-cost', 'rs-rev'];\r\n        const DATA_KEY = 'widget_business_canvas_data'; // Kunci Unik\r\n\r\n        function addNote(blockId, text = '') {\r\n            const container = document.querySelector(`#${blockId} .block-content`);\r\n            const note = document.createElement('div');\r\n            note.className = 'note';\r\n            const textarea = document.createElement('textarea');\r\n            textarea.value = text;\r\n            textarea.placeholder = \"Type here...\";\r\n            textarea.rows = 1;\r\n            // Auto-resize textarea logic\r\n            textarea.oninput = function() {\r\n                this.style.height = 'auto';\r\n                this.style.height = (this.scrollHeight) + 'px';\r\n            };\r\n\r\n            const delBtn = document.createElement('span');\r\n            delBtn.className = 'delete-note';\r\n            delBtn.innerHTML = 'âœ–';\r\n            delBtn.onclick = function() { note.remove(); };\r\n\r\n            note.appendChild(textarea);\r\n            note.appendChild(delBtn);\r\n            container.appendChild(note);\r\n\r\n            // Set initial height\r\n            setTimeout(() => textarea.oninput(), 0);\r\n\r\n            if(!text) textarea.focus();\r\n        }\r\n\r\n        function getCanvasData() {\r\n            const data = {};\r\n            blocks.forEach(id => {\r\n                const notes = [];\r\n                document.querySelectorAll(`#${id} .note textarea`).forEach(txt => {\r\n                    if(txt.value.trim()) notes.push(txt.value);\r\n                });\r\n                data[id] = notes;\r\n            });\r\n            return data;\r\n        }\r\n\r\n        function renderCanvas(data) {\r\n            blocks.forEach(id => { document.querySelector(`#${id} .block-content`).innerHTML = ''; });\r\n            if (!data) return;\r\n            for (const [id, notes] of Object.entries(data)) {\r\n                if (blocks.includes(id) && Array.isArray(notes)) {\r\n                    notes.forEach(text => addNote(id, text));\r\n                }\r\n            }\r\n        }\r\n\r\n        function showToast(msg) {\r\n            const toast = document.getElementById('toast');\r\n            toast.innerText = msg;\r\n            toast.classList.add('show');\r\n            setTimeout(() => toast.classList.remove('show'), 2000);\r\n        }\r\n\r\n        // --- [BRIDGE PROTOCOL] ---\r\n        window.addEventListener('message', (event) => {\r\n            const { type, payload } = event.data;\r\n\r\n            // 1. Parent Minta Data (CMD_SAVE)\r\n            if (type === 'CMD_SAVE') {\r\n                const data = getCanvasData();\r\n                // Kirim balik ke Parent\r\n                window.parent.postMessage({\r\n                    type: 'WIDGET_SAVE_REQUEST',\r\n                    payload: {\r\n                        key: DATA_KEY,\r\n                        data: data\r\n                    }\r\n                }, '*');\r\n            }\r\n\r\n            // 2. Parent Ngasih Data (CMD_LOAD)\r\n            if (type === 'CMD_LOAD') {\r\n                renderCanvas(payload);\r\n            }\r\n\r\n            // 3. Feedback Sukses\r\n            if (type === 'WIDGET_SAVE_SUCCESS') {\r\n                showToast(\"Saved to Cloud!\");\r\n            }\r\n        });\r\n\r\n    </script>\r\n</body>\r\n</html>",
    "business_canvas/manifest.json": "{\r\n    \"id\": \"business_canvas\",\r\n    \"name\": \"Business Model Canvas\",\r\n    \"version\": \"1.0.0\",\r\n    \"description\": \"Interactive whiteboard for designing business models.\",\r\n    \"author\": \"Flowork Dev\",\r\n    \"tier\": \"free\",\r\n    \"type\": \"widget\",\r\n    \"entry_point\": \"index.html\",\r\n    \"icon_file\": \"icon.png\",\r\n    \"default_width\": 12,\r\n    \"default_height\": 8\r\n}\r\n"
  },
  "author": "0xd119baa25c12552606b358693f4cd91a2de7ebc3",
  "updated_at": 1764947056165
}